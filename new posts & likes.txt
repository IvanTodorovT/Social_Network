/**
* По настоящем не използвам за нищо колоните `updated_at`. Мога да си променя заявката, която добавя пост в албум, но ще стане космата. Оставям го за по-нататък.
* Щеше да е по-добре многото да сочат малкото, т.е. постовете да казват, в кой албум са, но щом ги ползваш в този вид, нека до стаят така за сега
* Кажи ми ако ползваш нещо за likes/dislikes и дали искаш да кача таблица, но не гарантирам, че ще остане в този си вид
*/ 

CREATE TABLE `posts` (
 `id` int(6) unsigned NOT NULL AUTO_INCREMENT,
 `user_id` int(6) unsigned DEFAULT NULL,
 `text` varchar(1000) DEFAULT NULL,
 `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
 `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
 `photo` varchar(100) DEFAULT NULL,
 `tag1` varchar(10) DEFAULT NULL,
 `tag2` varchar(10) DEFAULT NULL,
 `tag3` varchar(10) DEFAULT NULL,
 PRIMARY KEY (`id`),
 KEY `user_id` (`user_id`),
 CONSTRAINT `posts_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) 

CREATE TABLE `albums` (
 `id` int(6) unsigned NOT NULL AUTO_INCREMENT,
 `name` varchar(50) NOT NULL,
 `user_id` int(6) unsigned DEFAULT NULL,
 `post_id` int(6) unsigned DEFAULT NULL,
 `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
 `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
 PRIMARY KEY (`id`),
 KEY `user_id` (`user_id`),
 KEY `post_id` (`post_id`),
 CONSTRAINT `albums_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
 CONSTRAINT `albums_ibfk_2` FOREIGN KEY (`post_id`) REFERENCES `posts` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) 